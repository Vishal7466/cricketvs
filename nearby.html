<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<meta name="description" content="Discover the best nearby cricket academies and grounds in 2025! ðŸ Find coaching centers, training facilities, and local cricket grounds near you. Get locations, contact info, and book your practice sessions easily.">
<meta name="keywords" content="Nearby Cricket Academies, Cricket Grounds Near Me, Cricket Coaching Centers, Local Cricket Facilities, Cricket Training Grounds, Cricket Academy Locations, Book Cricket Practice">
<meta name="robots" content="index, follow">
<meta name="author" content="CricketVS">


  
<title>Nearby Cricket Academies & Grounds 2025 | Find Coaching & Playing Facilities</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #fff;
    color: #333;
    margin: 100px;
    padding: 0;
  }
header {
    background: #0284c7;
    padding: 15px 20px;
    color: white;
    display: flex;
    align-items: center;
    position: relative;
    height: 50px;
}
  /* Buttons left side */
header .buttons {
    display: flex;
    gap: 10px;
}

/* Title center */
header .title {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-size: 24px;
    font-weight: bold;
}

header .buttons a {
    background: white;
    color: #0284c7;
    padding: 5px 10px;
    text-decoration: none;
    font-size: 16px;
    border-radius: 5px;
    font-weight: bold;
}

header .buttons a:hover {
    background: #f0f0f0;
}
  #output {
    padding: 20px;
  }
  .academy {
    padding: 10px;
    border-bottom: 1px solid #eee;
  }
  .academy h3 {
    margin: 0 0 5px 0;
    font-size: 18px;
  }
  .academy p {
    margin: 0;
    font-size: 14px;
    color: #555;
  }
  .academy:hover {
    background: #f0f0f0;
  }

  .title2{
    display:none;
  }

  @media (max-width: 480px) {
    body { margin: 0; }
     .title{
    display:none;
  }
    .title2{
    display:block;
    text-align: center;
    color: #57595a;
  }
  }
 
  
</style>
</head>
<body>

<header>
    <div class="buttons">
        <a href="https://cricketvs.online/">Home</a>
        <!-- <a href="https://cricketvs.online/">News</a> -->
    </div>
    <span class="title">Nearby Cricket Academy</span>
</header>
  <h3 class="title2">Nearby Cricket Academies And Stadium</h3>
<div id="output">Loading academies...</div>

  
<script>

const API_URL = "nearby.php";  // PHP backend file

// -------- Get Nearby Cricket Academies (Via PHP) --------
async function getNearbyAcademies(lat, lng) {
    const response = await fetch(`${API_URL}?lat=${lat}&lng=${lng}`);
    const data = await response.json();
    return data.results;
}

// -------- Page Load: Get User Location --------
window.onload = function () {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(success, error);
    } else {
        document.getElementById("output").innerText = "Geolocation not supported.";
    }
};

async function success(position) {
    const lat = position.coords.latitude;
    const lng = position.coords.longitude;

    let academies = await getNearbyAcademies(lat, lng);

    if (!academies.length) {
        document.getElementById("output").innerHTML = "<p>No cricket academies found.</p>";
        return;
    }

    // Distance add
    academies.forEach(a => {
        a.distance = getDistance(lat, lng, a.geometry.location.lat, a.geometry.location.lng);
    });

    // Sort by distance
    academies.sort((a, b) => a.distance - b.distance);

    const output = document.getElementById("output");
    output.innerHTML = "";

    academies.forEach(a => {
        const name = a.name;
        const img = a.photos
            ? `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photo_reference=${a.photos[0].photo_reference}&key=AIzaSyB8zvdzwc1kNgvhKuhGoyFawHotcyDXNqQ`
            : "https://via.placeholder.com/400x250?text=No+Image";

        const distance = a.distance.toFixed(2);
        const latA = a.geometry.location.lat;
        const lngA = a.geometry.location.lng;
        const mapUrl = `https://www.google.com/maps?q=${latA},${lngA}`;

        const div = document.createElement("div");
        div.className = "academy";
        div.style.cursor = "pointer";

        div.onclick = () => window.open(mapUrl, "_blank");

        div.innerHTML = `
            <img src="${img}" style="width:100%; height:200px; object-fit:cover; border-radius:10px; margin-bottom:5px;">
            <h3>${name}</h3>
            <p>Distance: ${distance} km</p>
        `;

        output.appendChild(div);
    });
}

function error() {
    document.getElementById("output").innerText = "Unable to get your location.";
}

// -------- Distance Calculation --------
function getDistance(lat1, lon1, lat2, lon2) {
    const R = 6371;
    const dLat = deg2rad(lat2 - lat1);
    const dLon = deg2rad(lon2 - lon1);
    const a =
        Math.sin(dLat / 2) ** 2 +
        Math.cos(deg2rad(lat1)) *
            Math.cos(deg2rad(lat2)) *
            Math.sin(dLon / 2) ** 2;

    return R * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)));
}

function deg2rad(deg) {
    return deg * (Math.PI / 180);
}

</script>



</body>
</html>
